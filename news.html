<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Innovators' Playground - Home</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-md bg-dark navbar-dark">
            <a class="navbar-brand" href="index.html">Innovators' Playground</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#join">Join</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <section id="news" class="container mt-5">
        <h2 class="text-center mb-4">Latest News</h2>
        <input type="text" class="form-control mb-4" id="search-news" placeholder="Search news...">
        <div class="list-group" id="news-list">
            <!-- News articles will be dynamically added here -->
        </div>
        <nav class="mt-4">
            <ul class="pagination justify-content-center">
                <li class="page-item disabled" id="previous-page">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item" id="next-page">
                    <a class="page-link" href="#">Next</a>
                </li>
            </ul>
        </nav>
    </section>

    <script>
        const newsItems = [
            {
                title: 'News Title 1',
                description: 'Brief description of the news item.',
                imgSrc: 'assets/owner.png',
            },
            // Add more news items here
        ];

        function displayNews(page = 1) {
            const itemsPerPage = 3;
            const start = (page - 1) * itemsPerPage;
            const end = start + itemsPerPage;

            const filteredNews = newsItems.slice(start, end);

            let newsHtml = '';

            filteredNews.forEach((news, index) => {
                newsHtml += `
                    <div class="list-group-item">
                        <div class="row">
                            <div class="col-md-4">
                                <img src="${news.imgSrc}" class="img-fluid w-50 mx-auto d-block" alt="News Image ${index + 1}">
                            </div>
                            <div class="col-md-8">
                                <h5 class="mb-3">${news.title}</h5>
                                <p>${news.description}</p>
                                <a href="#" class="btn btn-primary">Read More</a>
                            </div>
                        </div>
                    </div>
                `;
            });

            document.getElementById('news-list').innerHTML = newsHtml;
        }

        function setupPagination() {
            // Add pagination dynamically based on the number of news items
            const itemsPerPage = 3;
            const numPages = Math.ceil(newsItems.length / itemsPerPage);

            let paginationHtml = '';

            for (let i = 1; i <= numPages; i++) {
                paginationHtml += `<li class="page-item"><a class="page-link" href="#">${i}</a></li>`;
            }

            document.getElementById('previous-page').insertAdjacentHTML('afterend', paginationHtml);
        }
    

        function updatePagination() {
            const currentPage = parseInt($('.page-item.active > .page-link').text());
    
            if (currentPage === 1) {
                $('#previous-page').addClass('disabled');
            } else {
                $('#previous-page').removeClass('disabled');
            }
    
            if (currentPage === Math.ceil(newsItems.length / 3)) {
                $('#next-page').addClass('disabled');
            } else {
                $('#next-page').removeClass('disabled');
            }
        }
    
        function handlePaginationClick() {
            $('.pagination').on('click', '.page-link', function (event) {
                event.preventDefault();
    
                const targetPage = parseInt($(this).text());
                displayNews(targetPage);
    
                $('.pagination .page-item').removeClass('active');
                $(this).parent().addClass('active');
                updatePagination();
            });
        }
    
        function handlePreviousNext() {
            $('#previous-page, #next-page').on('click', function (event) {
                event.preventDefault();
    
                if ($(this).hasClass('disabled')) {
                    return;
                }
    
                const currentPage = parseInt($('.page-item.active > .page-link').text());
                const targetPage = $(this).attr('id') === 'previous-page' ? currentPage - 1 : currentPage + 1;
    
                displayNews(targetPage);
                $('.pagination .page-item').removeClass('active');
                $('.pagination .page-link').filter(function () {
                    return parseInt($(this).text()) === targetPage;
                }).parent().addClass('active');
                updatePagination();
            });
        }
    
        function handleSearch() {
            $('#search-news').on('input', function () {
                const searchTerm = $(this).val().toLowerCase();
    
                const filteredNews = newsItems.filter(news => {
                    return news.title.toLowerCase().includes(searchTerm) || news.description.toLowerCase().includes(searchTerm);
                });
    
                displayNews(1, filteredNews);
                setupPagination(filteredNews);
                updatePagination();
            });
        }
    
        function init() {
            displayNews();
            setupPagination();
            handlePaginationClick();
            handlePreviousNext();
            handleSearch();
            updatePagination();
        }
    
        init();
    </script>
    </body>
</html>